name: Build and Deploy to GitHub Pages

on:
  push:
    branches: [main] # –ó–∞–ø—É—Å–∫–∞—Ç–∏ –ø—Ä–∏ push –¥–æ –≥—ñ–ª–∫–∏ main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    # ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –Ø–≤–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ –∑–∞–ø–∏—Å –¥–ª—è GITHUB_TOKEN
    permissions:
      contents: write # –î–æ–∑–≤—ñ–ª –Ω–∞ –∑–∞–ø–∏—Å (push) –¥–ª—è –¥—ñ—ó —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
      pages: write # –î–æ–∑–≤—ñ–ª –¥–ª—è GitHub Pages
      id-token: write # –î–ª—è OIDC –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

    steps:
      - name: Checkout üõéÔ∏è
        # ‚úÖ –û–ù–û–í–õ–ï–ù–û: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é
        uses: actions/checkout@v4
        with:
          # –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –≥–ª–∏–±–∏–Ω–∏ —ñ—Å—Ç–æ—Ä—ñ—ó –Ω–µ–æ–±—Ö—ñ–¥–Ω–µ –¥–ª—è –¥–µ—è–∫–∏—Ö Action
          fetch-depth: 0

      - name: Setup Node.js ‚öôÔ∏è
        # –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ —è–≤–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –≤–µ—Ä—Å—ñ—é Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' # –í–∏–±–µ—Ä—ñ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É LTS –≤–µ—Ä—Å—ñ—é

      - name: Install and build üîß
        run: |
          npm install
          npm run build

      - name: Deploy üöÄ
        # ‚úÖ –û–ù–û–í–õ–ï–ù–û: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é (–∞–±–æ actions/deploy-pages@v4)
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          # ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –í–∫–∞–∑—É—î–º–æ, —â–æ Action –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î GITHUB_TOKEN
          token: ${{ secrets.GITHUB_TOKEN }}
          branch: gh-pages # –ì—ñ–ª–∫–∞, –∫—É–¥–∏ –±—É–¥—É—Ç—å —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç—ñ –∑—ñ–±—Ä–∞–Ω—ñ —Ñ–∞–π–ª–∏
          folder: dist # –ü–∞–ø–∫–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å –∑—ñ–±—Ä–∞–Ω—ñ —Ñ–∞–π–ª–∏ (–ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –Ω–∞–∑–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞, –Ω–∞–ø—Ä., 'build' –∞–±–æ 'dist')
